version: 2

models:
  - name: stg_supplier_meter_readings
    description: "Staging des relevés fournisseur : typage, normalisation et préparation pour les calculs."
    columns:
      - name: period_start
        description: "Début de période (date)."
        tests: [not_null]

      - name: period_end
        description: "Fin de période (date)."
        tests: [not_null]

      - name: cadran
        description: "Période tarifaire : HP (heures pleines) / HC (heures creuses)."
        tests:
          - not_null
          - accepted_values:
              arguments:
                values: ["HP", "HC"]

      - name: kwh
        description: "Index cumulatif (kWh) après normalisation."
        tests: [not_null]